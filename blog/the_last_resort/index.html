<!DOCTYPE html>
<html lang="english">
    <head>
        
        
  
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-91GZC4XQBY"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-91GZC4XQBY');
        }
      </script>
    
  




<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="description" content="Federico Simonetta is a machine learning researcher. Interested in music, sound, and digital humantities, here you found my publications, music, software and contacts. Pop in to know me!">
<title>
The Last Resort How to Force Remote Reboot - Federico Simonetta
</title>



        
        <meta property="og:title" content="The Last Resort - how to force remote reboot - Federico Simonetta" />
<meta property="og:type" content="website" />
<meta property="og:description" content="Federico Simonetta is a machine learning researcher. Interested in music, sound, and digital humantities, here you found my publications, music, software and contacts. Pop in to know me!"/>
<meta property="og:url" content="https://federicosimonetta.eu.org/blog/the_last_resort/"/>
<meta property="og:site_name" content="Federico Simonetta"/>







        
<link rel="shortcut icon" href="https://federicosimonetta.eu.org/img/avatar.ico">


        





<link rel="stylesheet" href="https://federicosimonetta.eu.org/css/main.min.c4f186fab846c133c24946b665ebe7704d11c93b76b9d98e0f1d1b5c9178b9c3.css" integrity="sha256-xPGG&#43;rhGwTPCSUa2ZevncE0RyTt2udmODx0bXJF4ucM=" crossorigin="anonymous" media="screen">



<link rel="stylesheet" href="css/custom.css"  crossorigin="anonymous" media="screen">


        
        
        
        
    </head>
    <body>
        <section id="top" class="section">
            
            <div class="container hero  fade-in one ">
                

<h1 class="bold-title is-1"></h1>


            </div>
            
            <div class="section  fade-in two ">
                

<div class="container">
    <hr>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        
        <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false" >
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
        <div class="navbar-menu " id="navMenu">
            
            
            <a class="navbar-item" href="https://federicosimonetta.eu.org/"></a>
            

            
            

            
                
            

            

            
            
            
            
            
            <a class="navbar-item" href="https://federicosimonetta.eu.org/#about">About</a>
            
            
            
            
            
                
                
                
                
                  <a class="navbar-item" href="https://federicosimonetta.eu.org/blog/">
                  
                  
                  
                  </a>
                
                
            
            
            
            
            
            <a class="navbar-item" href="https://federicosimonetta.eu.org/#publications">Publications</a>
            
            
            
            
            
            <a class="navbar-item" href="https://federicosimonetta.eu.org/#publications-full">Full List Of Publications</a>
            
            
            
            
            
            <a class="navbar-item" href="https://federicosimonetta.eu.org/#teaching">Teaching</a>
            
            
            
            
            
            <a class="navbar-item" href="https://federicosimonetta.eu.org/#links">Useful links</a>
            
            
            
            
            
            <a class="navbar-item" href="https://federicosimonetta.eu.org/#theses">Theses</a>
            
            
            
            
      
            
            
            
            <a class="navbar-item" href="https://federicosimonetta.eu.org/blog/">
                
                Blog
                
            </a>
            
            
            
            <a class="navbar-item" href="https://federicosimonetta.eu.org/music/">
                
                Music &amp; co.
                
            </a>
            
            

            
            
            <a class="navbar-item" href="https://federicosimonetta.eu.org/#contact"></a>
            
            

            
            
            

            
        </div>
    </nav>
    <hr>
</div>




                
<div class="container">
    <h2 class="title is-1 top-pad strong-post-title">
        <a href="https://federicosimonetta.eu.org/blog/the_last_resort/">The Last Resort - how to force remote reboot</a>
    </h2>
    
    <div class="post-data">
        7 Dec 2020
        
         | 
        
        
    </div>
    
    
    
    
    
    
    <p>
        Categories:
        
        <a href="https://federicosimonetta.eu.org/categories/software">
            software</a>
        
    </p>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <p>
        Tags:
        
        <a href="https://federicosimonetta.eu.org/tags/software">
            software</a>,
        
        <a href="https://federicosimonetta.eu.org/tags/teaching">
            teaching</a>,
        
        <a href="https://federicosimonetta.eu.org/tags/remote">
            remote</a>,
        
        <a href="https://federicosimonetta.eu.org/tags/cloud">
            cloud</a>,
        
        <a href="https://federicosimonetta.eu.org/tags/linux">
            linux</a>,
        
        <a href="https://federicosimonetta.eu.org/tags/reboot">
            reboot</a>
        
    </p>
    
    
    
    
</div>

<div class="container markdown top-pad">
    <figure class="old_photo"><img src="//feetpin.files.wordpress.com/2018/06/bungy-wide-angle.jpg">
</figure>


<h2 id="problem" class="anchor-link"><a href="#problem">Problem</a></h2>
<p>Deadlocks are bad creatures in the unix world. Sometimes, you willl need to kill your machine forcely, but what if you are using a remote machine?</p>
<p>In the COVID-19 situation, it could be difficult to get a machine up again if you forcely shutdown it (e.g. <code>shutdown -now</code>). So, you need to reboot. The issue is that <code>reboot</code> kindly unmount filesystems and wait for processes to shutdown.</p>

<h2 id="solution" class="anchor-link"><a href="#solution">Solution</a></h2>
<p>If you want to abruptly shutdown your system, simply does as following:</p>
<ul>
<li><code>echo 1 &gt; /proc/sys/kernel/sysrq</code></li>
<li><code>echo b &gt; /proc/sysrq-trigger</code></li>
</ul>

<h2 id="how-it-works" class="anchor-link"><a href="#how-it-works">How it works</a></h2>
<p>This is the lowest level method in a Linux system. It first enables the sysrq mode which is used for rescue the system. You can use it even in your PC with a simple <a href="//en.wikipedia.org/wiki/Magic_SysRq_key" >key combination</a>
. Then it sends the rescue action to take (<code>b</code> is for reboot).</p>
<p>In other words, the first command is the equivalent of <code>Alt + Stamp</code>, the second command is the equivalent of the key pressed successively.</p>

<h2 id="only-as-last-resort" class="anchor-link"><a href="#only-as-last-resort">Only as last Resort</a></h2>
<p>Right now, I&rsquo;m still waiting that my machine completely comes back. It answers to ping again, so it rebooted, but it refuses ssh connections. Probably, the hard-reboot created some problem in the filesystem. I hope it solves it by itself, otherwise I&rsquo;ll need a human intervention!</p>
<p>Good luck!</p>

</div>





                
                <div class="container">
    <hr>
</div>
<div class="container has-text-centered top-pad">
    <a href="#top">
        <i class="fa fa-arrow-up"></i>
    </a>
</div>

<div class="container">
    <hr>
</div>

                <div class="section" id="footer">
    <div class="container has-text-centered">
    
        <em>Fluid thoughts against categories</em>
    
    </div>
</div>

                
            </div>
        </section>
        
        


<script src="https://federicosimonetta.eu.org/js/bundle.5c23c0437f001a469ca373a465a6f7487203d18e10cdff76d86a60af66d5ee28.js" integrity="sha256-XCPAQ38AGkaco3OkZab3SHID0Y4Qzf922Gpgr2bV7ig="></script>




        
        
        
        
    </body>
</html>
